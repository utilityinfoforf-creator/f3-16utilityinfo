<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Utility Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Login Page -->
    <div id="login" class="login-container">
      <div class="login-box">
        <h1>âš¡ Utility Portal</h1>
        <div class="form-group">
          <input id="customerId" placeholder="Enter your Customer ID" type="text">
        </div>
        <div class="form-group">
          <button onclick="login()">Login</button>
        </div>
        <div id="error" class="error" style="display:none;"></div>
      </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard" style="display:none;">
      <div class="language-toggle">
        <button class="lang-btn active" onclick="switchLanguage('en')">English</button>
        <button class="lang-btn" onclick="switchLanguage('bn')">à¦¬à¦¾à¦‚à¦²à¦¾</button>
        <button class="lang-btn" style="margin-left:8px; background:#dc3545; color:#fff; border-color:#dc3545;" onclick="logout()" id="btn-logout">ğŸšª Logout</button>
      </div>

      <div class="dashboard-header">
        <h1>Welcome, <span id="name">User</span>! ğŸ‘‹</h1>
        <p id="dashboardSubtitle">Your Utility Dashboard</p>
        <p id="warningBox" style="margin-top:6px; font-size:13px; color:#fff; opacity:0.95;"></p>
      </div>

      <!-- Main Dashboard Grid: Left Sidebar + Right Content -->
      <div class="dashboard-main">
        
        <!-- LEFT SIDEBAR: Key Metrics & Info -->
        <div class="sidebar-left">
          
          <!-- Quick Stats Cards -->
          <div class="quick-stats">
            <div class="stat-card balance-card">
              <div class="stat-icon">âš¡</div>
              <div class="stat-info">
                <div class="stat-label" id="label-electric">Electric Balance</div>
                <div class="stat-value" id="electricBalance">à§³0.00</div>
                <div class="stat-status">Active</div>
              </div>
            </div>

            <div class="stat-card warning-card" id="warningCard">
              <div class="stat-icon">âš ï¸</div>
              <div class="stat-info">
                <div class="stat-label">Alert Zone</div>
                <div class="stat-value">200 à§³</div>
                <div class="stat-status warning" id="warningStatus">Safe</div>
              </div>
            </div>
          </div>

          <!-- Bills Due Section -->
          <div class="bills-due-section">
            <h3>ğŸ’° Bills Due</h3>
            <div class="bill-item">
              <span id="label-water">Water Bill</span>
              <span class="bill-amount" id="waterBillDue">à§³0.00</span>
            </div>
            <div class="bill-item">
              <span id="label-gas">Gas Bill</span>
              <span class="bill-amount" id="gasBillDue">à§³0.00</span>
            </div>
            <div class="bill-item">
              <span id="label-internet-bill">Internet Bill</span>
              <span class="bill-amount" id="internetBillDue">à§³0.00</span>
            </div>
            <div class="bill-item total-bill">
              <span>Total Due</span>
              <span class="bill-amount-total" id="totalDue">à§³0.00</span>
            </div>
          </div>

          <!-- Connection Status -->
          <div class="connection-status">
            <h3>ğŸŒ Connection Status</h3>
            <div class="status-item">
              <span id="label-internet">Internet</span>
              <span class="status-badge active" id="internetConnected">Active</span>
            </div>
            <div class="status-item">
              <span id="label-flat">Customer ID</span>
              <span class="status-value" id="flatNumber">N/A</span>
            </div>
            <div class="status-item">
              <span id="label-updated">Last Updated</span>
              <span class="status-value" id="lastUpdated">N/A</span>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="quick-actions">
            <button class="btn btn-primary-side" onclick="goToPayment()" id="btn-payment">ğŸ’³ Pay Now</button>
            <button class="btn btn-secondary-side" onclick="goToTerms()" id="btn-terms">ğŸ“‹ Terms</button>
            <button class="btn btn-secondary-side" onclick="window.location.href='connection.html'" id="btn-internet">ğŸŒ New Connection</button>
          </div>

          <!-- Email Section -->
          <div class="sidebar-email-section">
            <h3 id="label-email">ğŸ“§ Notifications</h3>
            <div class="checkbox-group">
              <input type="checkbox" id="emailToggle" onchange="toggleEmail()">
              <label for="emailToggle" id="label-email-toggle">Email Updates</label>
            </div>
            <input id="emailAddress" type="email" placeholder="your@email.com">
            <div id="toggleMsg" class="email-msg"></div>
          </div>

        </div>

        <!-- RIGHT CONTENT: Analytics, Charts & Alerts -->
        <div class="content-right">

          <!-- Alerts Section -->
          <div class="alerts-section">
            <h3 id="label-notifications">ğŸ”” Active Alerts</h3>
            <div class="alerts-container" id="alertsContainer">
              <div class="alert-item alert-info">
                <div class="alert-icon">âš¡</div>
                <div class="alert-content">
                  <div class="alert-title" id="label-low-balance-alert">Low Balance Warning</div>
                  <div class="alert-desc" id="label-low-balance-desc">Your balance is below 200 tk</div>
                </div>
              </div>
              <div class="alert-item alert-success">
                <div class="alert-icon">âœ…</div>
                <div class="alert-content">
                  <div class="alert-title" id="label-payment-confirm">Last Payment</div>
                  <div class="alert-desc" id="label-payment-confirm-desc">Received successfully</div>
                </div>
              </div>
              <div class="alert-item alert-warning">
                <div class="alert-icon">ğŸŸ¢</div>
                <div class="alert-content">
                  <div class="alert-title" id="label-outage-alert">Service Status</div>
                  <div class="alert-desc" id="label-outage-desc">All services running normally</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Analytics Cards Grid -->
          <div class="analytics-section">
            <h3 id="label-analytics">ğŸ“ˆ Analytics & Reports</h3>
            <div class="analytics-grid">
              <div class="analytics-card">
                <div class="card-icon">ğŸ“Š</div>
                <h4 id="label-billing-chart">Billing History</h4>
                <p>Last 12 months</p>
                <button class="btn btn-small" onclick="viewBillingHistory()" id="btn-billing-history">View</button>
              </div>
              <div class="analytics-card">
                <div class="card-icon">ğŸ“ˆ</div>
                <h4 id="label-usage-trends">Usage Trends</h4>
                <p>Consumption patterns</p>
                <button class="btn btn-small" onclick="viewUsageTrends()" id="btn-usage-trends">View</button>
              </div>
              <div class="analytics-card">
                <div class="card-icon">ğŸ“…</div>
                <h4 id="label-payment-history">Payment History</h4>
                <p>Recent payments</p>
                <button class="btn btn-small" onclick="viewPaymentHistory()" id="btn-payment-history">View</button>
              </div>
              <div class="analytics-card">
                <div class="card-icon">ğŸ“‹</div>
                <h4>Monthly Comparison</h4>
                <p>6-month analysis</p>
                <button class="btn btn-small" onclick="viewComparativeAnalysis()" id="btn-comparative">View</button>
              </div>
            </div>
          </div>

          <!-- Export Section -->
          <div class="export-section">
            <h3 id="label-reporting">ğŸ“‘ Export & Download</h3>
            <div class="export-buttons">
              <button class="btn btn-secondary" onclick="exportUsageReport()" id="btn-export-report">ğŸ“‘ Usage Report</button>
              <button class="btn btn-secondary" onclick="downloadBillsPDF()" id="btn-pdf-bills">ğŸ’¾ Download PDF</button>
              <button class="btn btn-secondary" onclick="printBills()" id="btn-print-bills">ğŸ–¨ï¸ Print Bills</button>
              <button class="btn btn-secondary" onclick="viewUpdateHistory()" id="btn-history">ğŸ“‹ History</button>
            </div>
          </div>

          <!-- Security Section -->
          <div class="security-section">
            <h3 id="label-security">ğŸ” Security & Preferences</h3>
            <div class="security-grid">
              <div class="security-card">
                <h4 id="label-2fa-title">Two-Factor Auth</h4>
                <p id="label-2fa-toggle">Extra security layer</p>
                <div class="toggle-wrapper">
                  <input type="checkbox" id="2faToggle" onchange="toggle2FA()" class="toggle-input">
                  <label for="2faToggle" class="toggle-label"></label>
                </div>
              </div>
              <div class="security-card">
                <h4 id="label-bill-reminders">Bill Reminders</h4>
                <p id="label-reminders-toggle">Weekly notifications</p>
                <div class="toggle-wrapper">
                  <input type="checkbox" id="remindersToggle" onchange="toggleBillReminders()" class="toggle-input">
                  <label for="remindersToggle" class="toggle-label"></label>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>

      <!-- Modals (unchanged) -->
      <div id="historyModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-history-title">ğŸ“‹ Update History</h2>
            <button class="close-btn" onclick="closeUpdateHistory()">&times;</button>
          </div>
          <div id="historyContainer" class="history-container"></div>
        </div>
      </div>

      <div id="comparativeModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-comparative-title">ğŸ“Š Monthly Comparison Analysis</h2>
            <button class="close-btn" onclick="closeComparativeAnalysis()">&times;</button>
          </div>
          <div id="comparativeContainer" class="comparative-container"></div>
        </div>
      </div>

      <div id="billingHistoryModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-billing-title">ğŸ“Š Billing History - Last 12 Months</h2>
            <button class="close-btn" onclick="closeBillingHistory()">&times;</button>
          </div>
          <div id="billingHistoryContainer" class="billing-history-container"></div>
        </div>
      </div>

      <div id="usageTrendsModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-usage-title">ğŸ“ˆ Usage Trends & Consumption Patterns</h2>
            <button class="close-btn" onclick="closeUsageTrends()">&times;</button>
          </div>
          <div id="usageTrendsContainer" class="usage-trends-container"></div>
        </div>
      </div>

      <div id="paymentHistoryModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-payment-title">ğŸ“… Payment History & Receipts</h2>
            <button class="close-btn" onclick="closePaymentHistory()">&times;</button>
          </div>
          <div id="paymentHistoryContainer" class="payment-history-container"></div>
        </div>
      </div>

    </div>
  </div>

<script src="script.js"></script>
<script src="script-premium-features.js"></script>
</body>
</html>