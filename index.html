<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Utility Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Login Page -->
    <div id="login" class="login-container">
      <div class="login-box">
        <h1>âš¡ Utility Portal</h1>
        <div class="form-group">
          <input id="customerId" placeholder="Enter your Customer ID" type="text">
        </div>
        <div class="form-group">
          <button onclick="login()">Login</button>
        </div>
        <div id="error" class="error" style="display:none;"></div>
      </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard" style="display:none;">
      <div class="language-toggle">
        <button class="lang-btn active" onclick="switchLanguage('en')">English</button>
        <button class="lang-btn" onclick="switchLanguage('bn')">à¦¬à¦¾à¦‚à¦²à¦¾</button>
      </div>

      <div class="dashboard-header">
        <h1>Welcome, <span id="name">User</span>! ğŸ‘‹</h1>
        <p id="dashboardSubtitle">Your Utility Dashboard</p>
      </div>

      <div class="warning-box" id="warningBox">
        âš ï¸ If your electric meter balance goes below 200 tk, your line will be cut off.
      </div>

      <div class="dashboard-grid">
        <div class="info-card">
          <h3 id="label-electric">Electric Balance</h3>
          <div class="value" id="electricBalance">â‚¹0.00</div>
        </div>
        <div class="info-card">
          <h3 id="label-water">Water Bill Due</h3>
          <div class="value" id="waterBillDue">â‚¹0.00</div>
        </div>
        <div class="info-card">
          <h3 id="label-gas">Gas Bill Due</h3>
          <div class="value" id="gasBillDue">â‚¹0.00</div>
        </div>
        <div class="info-card">
          <h3 id="label-internet">Internet Connected</h3>
          <div class="value" id="internetConnected">N/A</div>
        </div>
        <div class="info-card">
          <h3 id="label-internet-bill">Internet Bill Due</h3>
          <div class="value" id="internetBillDue">â‚¹0.00</div>
        </div>
        <div class="info-card">
          <h3 id="label-flat">Flat Number</h3>
          <div class="value" id="flatNumber">N/A</div>
        </div>
        <div class="info-card">
          <h3 id="label-updated">Last Updated</h3>
          <div class="value" id="lastUpdated">N/A</div>
        </div>
      </div>

      <!-- Email Verification Section -->
      <div class="email-section">
        <h3 id="label-email">ğŸ“§ Email Notifications</h3>
        <div class="checkbox-group">
          <input type="checkbox" id="emailToggle" onchange="toggleEmail()">
          <label for="emailToggle" id="label-email-toggle">Receive balance updates by email</label>
        </div>
        <input id="emailAddress" type="email" placeholder="Enter your email address">
        <button onclick="sendVerificationCode()">Send Verification Code</button>

        
        <div id="toggleMsg"></div>
      </div>

      <div class="action-buttons">
        <button class="btn btn-primary" onclick="goToPayment()" id="btn-payment">ğŸ’³ Make Payment</button>
        <button class="btn btn-secondary" onclick="goToTerms()" id="btn-terms">ğŸ“‹ Terms & Conditions</button>
        <button class="btn btn-secondary" onclick="window.location.href='connection.html'" id="btn-internet">ğŸŒ Request Internet Connection</button>
        <button class="btn btn-secondary" onclick="viewUpdateHistory()" id="btn-history">ğŸ“‹ Update History</button>
        <button class="btn btn-danger" onclick="logout()" id="btn-logout">ğŸšª Logout</button>
      </div>

      <!-- Update History Modal -->
      <div id="historyModal" class="modal" style="display:none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="modal-history-title">ğŸ“‹ Update History</h2>
            <button class="close-btn" onclick="closeUpdateHistory()">&times;</button>
          </div>
          <div id="historyContainer" class="history-container">
            <!-- History items will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </div>

<script src="script.js"></script>
</body>
</html>
